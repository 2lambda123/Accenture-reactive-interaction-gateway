<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.23.0">
    <meta name="project" content="Reactive Interaction Gateway v3.0.0-alpha.1">

    <title>Changelog â€” Reactive Interaction Gateway v3.0.0-alpha.1</title>
    <link rel="stylesheet" href="dist/elixir-9f91ebe876dc01d67920.css" />

    <script src="dist/sidebar_items-baff530e59.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-60a0c9f10e9e52eae31f.js"></script>

  </head>
  <body data-type="extras">
    <script>try { if(localStorage.getItem('night-mode') === 'true') document.body.className += ' night-mode'; } catch (e) { }</script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" id="search-list" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="https://accenture.github.io/reactive-interaction-gateway" class="sidebar-projectName">
Reactive Interaction Gateway
      </a>
      <strong class="sidebar-projectVersion">
        v3.0.0-alpha.1
      </strong>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

      <li><a id="modules-list" href="#full-list">Modules</a></li>


      <li><a id="tasks-list" href="#full-list">Mix Tasks</a></li>

  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>Changelog</h1><p>All notable changes to this project will be documented in this file.</p><p>The format is based on <a href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>,
and this project adheres to <a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p><h2 id="unreleased" class="section-heading">
  <a href="#unreleased" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/2.4.0...HEAD" title="">Unreleased</a>
</h2>
<h3 id="added" class="section-heading">
  <a href="#added" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Added
</h3>
<ul><li>Support publishing events consumed from <a href="https://nats.io">NATS</a> topics. See the <a href="https://accenture.github.io/reactive-interaction-gateway/docs/event-streams.html#nats">documentation</a> for how to get started. <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/297">#297</a></li><li>Added validation for reverse proxy configuration. Now it crashes RIG on start when configuration is not valid or returns <code class="inline">400</code> when using REST API to update configuration. <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/277">#277</a></li><li>Added basic distributed tracing support in <a href="https://www.w3.org/TR/trace-context/">W3C Trace Context specification</a> with Jaeger and Openzipkin exporters. RIG opens a span at the API Gateway and emits trace context in Cloud Events following the <a href="https://github.com/cloudevents/spec/blob/v1.0/extensions/distributed-tracing.md">distributed tracing spec</a>. <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/281">#281</a></li><li>Added possibility to set response code for <code class="inline">response_from</code> messages in reverse proxy (<code class="inline">kafka</code> and <code class="inline">http_async</code>). <a href="https://github.com/Accenture/reactive-interaction-gateway/pull/321">#321</a></li><li>Added new version - <code class="inline">v3</code> - for internal endpoints to support response code in the <code class="inline">/responses</code> endpoint</li><li>Added Helm v3 template to the <code class="inline">deployment</code> folder <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/288">#288</a></li><li>Added detailed features summary on the website with architecture diagrams. <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/284">#284</a></li><li>Added <a href="https://accenture.github.io/reactive-interaction-gateway/docs/jwt-blacklisting.html">documentation section</a> for the JWT Blacklist feature. <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/156">#156</a></li></ul><h3 id="changed" class="section-heading">
  <a href="#changed" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Changed
</h3>
<ul><li><p>Incorporated <a href="https://github.com/kevinbader/cloudevents-ex">cloudevents-ex</a> to handle binary and structured modes for <a href="https://github.com/cloudevents/spec/blob/v1.0/kafka-protocol-binding.md">Kafka protocol binding</a> in a proper way. This introduces some <strong>breaking changes</strong>:</p><ul><li>Binary mode is now using <code class="inline">ce_</code> prefix for CloudEvents context attribute headers, before it was <code class="inline">ce-</code> - done according to the <a href="https://github.com/cloudevents/spec/blob/v1.0/kafka-protocol-binding.md">Kafka protocol binding</a></li></ul></li><li><p>Change above affects also <code class="inline">&quot;response_from&quot;: &quot;kafka&quot;</code> proxy functionality. RIG will forward to clients only Kafka body, no headers. This means, when using binary mode, clients receive only the data part, no CloudEvents context attributes.</p></li><li><p>Changed <code class="inline">response_from</code> handler to expect a message in binary format, <strong>NOT</strong> a cloud event (<code class="inline">kafka</code> and <code class="inline">http_async</code>). <a href="https://github.com/Accenture/reactive-interaction-gateway/pull/321">#321</a></p></li><li><p>Updated Helm v2 template, kubectl yaml file and instructions in the <code class="inline">deployment</code> folder <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/288">#288</a></p></li><li><p>Publish Helm Chart to Github pages. With this change, we can simply install the chart using</p><pre><code class="shell">  helm repo add accenture https://accenture.github.io/reactive-interaction-gateway
  helm install rig accenture/reactive-interaction-gateway</code></pre><p>More information, follow the <a href="./deployment/README.md">deployment Readme</a>. <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/319">#319</a></p></li><li><p>make README smaller, easier to read and highlight features. <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/284">#284</a></p></li></ul><h3 id="fixed" class="section-heading">
  <a href="#fixed" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Fixed
</h3>
<ul><li>Fixed a bug where distributed set processes would crash when one of their peers has died but hasn't been removed yet from the pg2 group.</li><li>Fixed wrong endpoint validation for reverse proxy. Now it should correctly check for <code class="inline">path</code> or <code class="inline">path_regex</code>. Before it would require <code class="inline">path</code> even with <code class="inline">path_regex</code> in place. <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/334">#334</a></li></ul><h3 id="removed" class="section-heading">
  <a href="#removed" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Removed
</h3>
<ul><li>Removed deprecated or unused code/functionality, these are <strong>breaking changes</strong> <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/278">#278</a>:<ul><li>Removed deprecated internal API <code class="inline">/v1</code>.</li><li>Removed deprecated environment variables: <code class="inline">PROXY_KAFKA_REQUEST_AVRO</code>, <code class="inline">PROXY_KAFKA_REQUEST_TOPIC</code>, <code class="inline">PROXY_KINESIS_REQUEST_STREAM</code>. This means that you can set topic and schema for publishing to event streams <strong>only</strong> in the proxy config as described in the <a href="https://accenture.github.io/reactive-interaction-gateway/docs/api-gateway.html#publishing-to-event-streams">docs</a>.</li><li>Removed experimental feature Firehose (forwarding events to an HTTP endpoint).</li><li>Removed <code class="inline">path</code> field in proxy configuration. Reason is that the <code class="inline">path_regex</code> field is already covering <code class="inline">path</code> functionality and thus it doesn't make sense to have both of them. Should cause less confusion and improve maintainability.<ul><li><strong>Migration:</strong><ul><li><code class="inline">&quot;path&quot;: &quot;/foo&quot;</code> -&gt; <code class="inline">&quot;path_regex&quot;: &quot;/foo&quot;</code></li><li><code class="inline">&quot;path&quot;: &quot;/foo/{id}&quot;</code> -&gt; <code class="inline">&quot;path_regex&quot;: &quot;/foo/(.+)&quot;</code> - or pretty much whatever regex you need (e.g. UUID pattern)</li></ul></li></ul></li></ul></li></ul><h3 id="technical-improvements" class="section-heading">
  <a href="#technical-improvements" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Technical Improvements
</h3>
<ul><li>Updated dependencies to support OTP 23. We've also replaced the versions file with <code class="inline">.tool-versions</code>, which makes it easier for those using the <a href="https://asdf-vm.com/">asdf package manager</a> - just run <code class="inline">asdf install</code> to obtain the correct versions of Erlang and Elixir.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/341">#341</a></li></ul><h2 id="2-4-0-2020-05-07" class="section-heading">
  <a href="#2-4-0-2020-05-07" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/2.3.0...2.4.0" title="">2.4.0</a> - 2020-05-07
</h2>
<h3 id="added-1" class="section-heading">
  <a href="#added-1" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Added
</h3>
<ul><li>Added possibility to define Kafka/Kinesis topic and schema per reverse proxy endpoint. The current solution using environment variables is deprecated, but still used as a fallback -- will be removed in the version 3.0.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/229">#229</a></li><li>Added Kinesis + Localstack example.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/229">#229</a></li></ul><h3 id="technical-improvements-1" class="section-heading">
  <a href="#technical-improvements-1" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Technical Improvements
</h3>
<ul><li>Upgrade the Elixir version to 1.10 for source code and Docker images. Upgrade version for multiple dependencies.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/285">#285</a></li><li>Added <a href="https://rig-slackin.herokuapp.com/">Slackin</a> integration for easier Slack access - check the main page badge!
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/240">#240</a></li></ul><h2 id="2-3-0-2019-12-13" class="section-heading">
  <a href="#2-3-0-2019-12-13" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/2.2.1...2.3.0" title="">2.3.0</a> - 2019-12-13
</h2>
<h3 id="added-2" class="section-heading">
  <a href="#added-2" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Added
</h3>
<ul><li>In addition to SSE and WebSocket, RIG now also supports HTTP long-polling for listening to events. Frontends should only use this as a fallback in situations where neither SSE nor WebSocket is supported by the network.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/217">#217</a></li><li>When terminating an SSE connection after its associated session has been blacklisted, RIG now sends out a <code class="inline">rig.session_killed</code> event before closing the socket. For WebSocket connections, the closing frame contains &quot;Session killed.&quot; as its payload.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/261">#261</a></li><li>New API for querying and updating the session blacklist: <code class="inline">/v2/session-blacklist</code>, which introduces the following breaking changes (<code class="inline">/v1/session-blacklist</code> is unaffected) <a href="https://github.com/Accenture/reactive-interaction-gateway/pull/261">#261</a>:<ul><li>When a session has been added to the session blacklist successfully, the endpoint now uses the correct HTTP status code &quot;201 Created&quot; instead of &quot;200 Ok&quot;.</li><li>When using the API to blacklist a session, the <code class="inline">validityInSeconds</code> should now be passed as an integer value (using a string still works though).</li></ul></li></ul><h3 id="fixed-1" class="section-heading">
  <a href="#fixed-1" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Fixed
</h3>
<ul><li>Fixed usage of external check for <code class="inline">SUBMISSION_CHECK</code> and <code class="inline">SUBSCRIPTION_CHECK</code>.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/241">#241</a></li><li>Logging incoming HTTP request to Kafka works again and now also supports Apache Avro.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/170">#170</a></li><li>Fixed HTTP response for <code class="inline">DELETE 4010/v1/apis/api_id</code> and <code class="inline">DELETE 4010/v2/apis/api_id</code> to correctly return <code class="inline">204</code> and no content.</li></ul><h3 id="removed-1" class="section-heading">
  <a href="#removed-1" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Removed
</h3>
<ul><li>Removed the <code class="inline">JWT_BLACKLIST_DEFAULT_EXPIRY_HOURS</code> environment variable (<a href="https://github.com/Accenture/reactive-interaction-gateway/commit/f974533455aa3ebc550ee95bf291585925a406d5">deprecated since 2.0.0-beta.2</a>).
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/260">#260</a></li></ul><h3 id="security" class="section-heading">
  <a href="#security" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Security
</h3>
<ul><li>A connection is now associated to its session right after the connection is established, given the request carries a JWT in its authorization header. Previously, this was only done by the subscriptions endpoint, which could cause a connection to remain active even after blacklisting its authorization token.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/260">#260</a></li></ul><h3 id="technical-improvements-2" class="section-heading">
  <a href="#technical-improvements-2" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Technical Improvements
</h3>
<ul><li>Upgrade the Elixir and Erlang versions for source code and Docker images.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/211">#211</a></li><li>Automated UI-tests using Cypress make sure that all examples work and that code changes do not introduce any unintended API changes.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/227">#227</a></li><li>Refactor JWT related code in favor of <a href="RIG.JWT.html"><code class="inline">RIG.JWT</code></a>.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/244">#244</a></li><li>Fix flaky cypress tests; this shouldn't be an issue anymore when running Travis builds.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/265">#265</a></li></ul><h2 id="2-2-1-2019-06-21" class="section-heading">
  <a href="#2-2-1-2019-06-21" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/2.2.0...2.2.1" title="">2.2.1</a> - 2019-06-21
</h2>
<h3 id="changed-1" class="section-heading">
  <a href="#changed-1" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Changed
</h3>
<ul><li>Increased maximum number of Erlang ports from 4096 to 65536 to allow more HTTP connections.</li></ul><h2 id="2-2-0-2019-06-17" class="section-heading">
  <a href="#2-2-0-2019-06-17" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/2.1.1...2.2.0" title="">2.2.0</a> - 2019-06-17
</h2>
<h3 id="added-3" class="section-heading">
  <a href="#added-3" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Added
</h3>
<ul><li>New Prometheus metric: <code class="inline">rig_proxy_requests_total</code>. For details see <a href="docs/metrics-details.md"><code class="inline">metrics-details.md</code></a>.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/157">#157</a></li><li>The respond-via-Kafka feature uses a correlation ID for associating the response with the original request. This correlation ID is now cryptographically verified, which prevents an attacker on the internal network to reroute responses to other users connected to RIG.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/218">#218</a></li><li>Apache Avro is now supported for consuming from, and producing to, Kafka. The implementation uses the Confluent Schema Registry to fetch Avro schemas.</li><li>Added new set of topics in documentation about the API Gateway, even streams and scaling.</li><li>Added examples section to the documentation website.</li><li>Added new <code class="inline">response_from</code> option -- <code class="inline">http_async</code> together with new internal <code class="inline">POST</code> endpoint <code class="inline">/v1/responses</code>. You can send correlated response to <code class="inline">/v1/responses</code> and complete initial Proxy request.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/213">#213</a></li><li>Implement <a href="https://github.com/cloudevents/spec/blob/v0.2/http-transport-binding.md">HTTP Transport Binding for CloudEvents v0.2</a>. A special fallback to &quot;structured mode&quot; in case the content type is &quot;application/json&quot; and the &quot;ce-specversion&quot; header is not set ensures this change is backward compatible with existing setups.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/153">#153</a></li><li>New request body format for endpoints with <code class="inline">kafka</code> and <code class="inline">kinesis</code> targets; see <a href="#Deprecated">Deprecated</a> below.</li></ul><h3 id="changed-2" class="section-heading">
  <a href="#changed-2" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Changed
</h3>
<ul><li>The environment variable <code class="inline">KAFKA_GROUP_ID</code> has been replaced with the following environment variables, where each of them has a distinct default value: <code class="inline">KAFKATOFILTER_KAFKA_GROUP_ID</code>, <code class="inline">KAFKATOHTTP_KAFKA_GROUP_ID</code>, <code class="inline">PROXY_KAFKA_RESPONSE_KAFKA_GROUP_ID</code>.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/206">#206</a></li><li>The default Kafka source topic for the Kafka-to-HTTP event stream has been changed to <code class="inline">rig</code>. The feature was introduced to forward all incoming events to an (external) HTTP endpoint, so it makes sense to use the default topic for incoming events here too.</li><li>Changed <code class="inline">:refresh_subscriptions</code> GenServer handler from <code class="inline">call</code> to <code class="inline">cast</code> to improve performance.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/224/files">#224</a></li></ul><h3 id="fixed-2" class="section-heading">
  <a href="#fixed-2" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Fixed
</h3>
<ul><li>Fixed a bug that caused the subscriptions endpoint to return an internal server error when running RIG in a clustered setup.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/194">#194</a></li><li>Support for forwarding HTTP/1.1 responses over a HTTP/2 connection by dropping connection-related HTTP headers.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/193">#193</a></li><li>Added missing <code class="inline">id</code> field to swagger spec for <code class="inline">message</code> API.</li><li>Fixed random generation of group IDs for Kafka consumer groups. This led to wrong partition distribution when using multiple RIG nodes. Now consumers will have the same ID which can be changed via environment variable - defaults to <code class="inline">rig</code>.</li><li>When forwarding an HTTP request, the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Host"><code class="inline">Host</code></a> request header is now set to the <code class="inline">target_url</code> defined by the proxy configuration.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/188">#188</a></li><li>Fixed missing <code class="inline">swagger.json</code> file in production Docker image.</li><li>Added missing CORS headers for Kafka/Kinesis target type when not using <code class="inline">response_from</code>.</li><li>Fixed schema registry validation when using binary messages in Kafka consumer.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/202">#202</a></li><li>Forwarding events to HTTP did not contain (all) Kafka messages, as the Kafka consumer group ID was shared with the consumer for forwarding events to frontends.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/206">#206</a></li></ul><h3 id="deprecated" class="section-heading">
  <a href="#deprecated" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Deprecated
</h3>
<ul><li><p>Endpoints configured with target <code class="inline">kafka</code> or <code class="inline">kinesis</code> now expect a different body format (that is, the previous format is deprecated). This aligns the request body format with the other endpoints that accept CloudEvents.</p><p>For example, instead of using this:</p><pre><code class="json">{
  &quot;partition&quot;: &quot;the-partition-key&quot;,
  &quot;event&quot;: {
    &quot;specversion&quot;: &quot;0.2&quot;,
    &quot;type&quot;: &quot;what_has_happened&quot;,
    &quot;source&quot;: &quot;ui&quot;,
    &quot;id&quot;: &quot;123&quot;
  }
}</code></pre><p>you should put the partition key in the CloudEvent's &quot;rig&quot; extension instead:</p><pre><code class="json">{
  &quot;specversion&quot;: &quot;0.2&quot;,
  &quot;rig&quot;: {
    &quot;target_partition&quot;: &quot;the-partition-key&quot;
  },
  &quot;type&quot;: &quot;what_has_happened&quot;,
  &quot;source&quot;: &quot;ui&quot;,
  &quot;id&quot;: &quot;123&quot;
}</code></pre></li></ul><h2 id="2-1-1-2019-03-27" class="section-heading">
  <a href="#2-1-1-2019-03-27" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/2.1.0...2.1.1" title="">2.1.1</a> - 2019-03-27
</h2>
<h3 id="added-4" class="section-heading">
  <a href="#added-4" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Added
</h3>
<ul><li>When using the proxy, RIG will now add an additional <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Forwarded"><code class="inline">Forwarded</code> header</a>.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/113">#113</a></li><li>Increased length of header value in HTTP requests to 16384 to support long tokens for SAML.</li></ul><h3 id="changed-3" class="section-heading">
  <a href="#changed-3" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Changed
</h3>
<ul><li>HTTPS certificates may now be passed using absolute paths. (Previously, the locations of the HTTPS certificates were limited to the OTP-applications' <code class="inline">priv</code> directories <code class="inline">rig_api/priv/cert</code> and <code class="inline">rig_inbound_gateway/priv/cert</code>.) Additionally, for security reasons we no longer include the self-signed certificate with the docker image. Please adapt your environment configuration accordingly.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/151">#151</a>
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/182">#182</a></li><li>Validation errors for SSE &amp; WS connections and the subscriptions endpoint should now be a lot more helpful. Invalid JWTs, as well as invalid subscriptions, cause the endpoints to respond with an error immediately.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/54">#54</a>
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/164">#164</a></li></ul><h3 id="fixed-3" class="section-heading">
  <a href="#fixed-3" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Fixed
</h3>
<ul><li>Parsing of JSON files in proxy module - <code class="inline">api.id</code> was expected to be an atom, but when using files it's a string.</li><li>Kinesis: Support for CloudEvents versions 0.1 and 0.2.</li><li>Fixed channels example with latest RIG API changes.</li><li>Fixed sse/ws examples to use JWT inferred subscriptions correctly.</li></ul><h2 id="2-1-0-2019-02-15" class="section-heading">
  <a href="#2-1-0-2019-02-15" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/2.0.2...2.1.0" title="">2.1.0</a> - 2019-02-15
</h2>
<h3 id="added-5" class="section-heading">
  <a href="#added-5" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Added
</h3>
<ul><li>Prometheus monitoring endpoint.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/96">#96</a></li><li>The proxy configuration can now also be passed as a JSON string. This allows to run the Docker image in environments where mounting a file in a container is not possible.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/159">#159</a></li></ul><h3 id="removed-2" class="section-heading">
  <a href="#removed-2" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Removed
</h3>
<ul><li>Rate limiting.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/144">#144</a></li></ul><h2 id="2-0-2-2019-01-20" class="section-heading">
  <a href="#2-0-2-2019-01-20" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/2.0.1...2.0.2" title="">2.0.2</a> - 2019-01-20
</h2>
<h3 id="fixed-4" class="section-heading">
  <a href="#fixed-4" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Fixed
</h3>
<ul><li>Upgraded a dependency to fix the Docker build.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/149">#149</a></li></ul><h2 id="2-0-1-2019-01-20" class="section-heading">
  <a href="#2-0-1-2019-01-20" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/2.0.0...2.0.1" title="">2.0.1</a> - 2019-01-20
</h2>
<h3 id="fixed-5" class="section-heading">
  <a href="#fixed-5" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Fixed
</h3>
<ul><li>A library upgrade caused idle SSE connections to time out after 60 seconds. This timeout is now disabled.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/148">#148</a></li></ul><h2 id="2-0-0-2019-01-16" class="section-heading">
  <a href="#2-0-0-2019-01-16" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/2.0.0-beta.2...2.0.0" title="">2.0.0</a> - 2019-01-16
</h2>
<h3 id="added-6" class="section-heading">
  <a href="#added-6" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Added
</h3>
<ul><li>HTTP/2 and HTTPS support.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/34">#34</a></li><li>The SSE and WebSocket endpoints now take a &quot;subscriptions&quot; parameter that allows to create (manual) subscriptions (JSON encoded list). This has the same effect as establishing a connection and calling the subscriptions endpoint afterwards.</li><li>OpenAPI (Swagger) documentation for RIG's internal API.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/116">#116</a></li><li>Support for the CloudEvents v0.2 format.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/112">#112</a></li><li>In API definitions regular expressions can now be used to define matching request paths. Also, request paths can be rewritten (see <a href="apps/rig_inbound_gateway/lib/rig_inbound_gateway/api_proxy/api.ex">api.ex</a> for an example).
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/88">#88</a></li></ul><h3 id="changed-4" class="section-heading">
  <a href="#changed-4" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Changed
</h3>
<ul><li>The SSE and WebSocket endpoints' &quot;token&quot; parameter is renamed to &quot;jwt&quot; (to not confuse it with the connection token).</li><li>When forwarding requests, RIG related meta data (e.g. correlation ID) in CloudEvents is now put into an object under the top-level key &quot;rig&quot;. Note that in terms of the current <a href="https://github.com/cloudevents/spec/blob/v0.2/spec.md">CloudEvents 0.2</a> specification this makes &quot;rig&quot; an <a href="https://github.com/cloudevents/spec/blob/v0.2/primer.md#cloudevent-attribute-extensions">extension</a>. Also, all RIG related keys have been renamed from snake_case to camelCase.</li><li>Previously API definitions for proxy were turning on security check for endpoints by <code class="inline">not_secured: false</code> which is a bit confusing -- changed to more readable form <code class="inline">secured: true</code>.</li><li>No longer assumes the &quot;Bearer&quot; token type when no access token type is prepended in the Authorization header. Consequently, a client is expected to explicitly use &quot;Bearer&quot; for sending its JWT authorization token. More more details, see <a href="https://tools.ietf.org/html/rfc6749#section-7.1">RFC 6749</a>.</li><li>All events that RIG creates are now in CloudEvents v0.2 format (before: CloudEvents v0.1).</li><li>When using Kafka or Kinesis as the target, connection related data is added to the event before publishing it to the respective topic/partition. With the introduction of CloudEvents v0.2, RIG now follows the CloudEvent extension syntax with all fields put into a common top-level object called &quot;rig&quot;. Additionally, the object's field names have been changed slightly to prevent simple mistakes like case-sensitivity issues. Also, the expected request body fields have been renamed to be more descriptive. To that end, usage information returned as plaintext should help the API user in case of a Bad Request.</li></ul><h3 id="fixed-6" class="section-heading">
  <a href="#fixed-6" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Fixed
</h3>
<ul><li>Extractor configuration reload</li><li>Fixed response to CORS related preflight request.</li></ul><h2 id="2-0-0-beta-2-2018-11-09" class="section-heading">
  <a href="#2-0-0-beta-2-2018-11-09" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/2.0.0-beta.1...2.0.0-beta.2" title="">2.0.0-beta.2</a> - 2018-11-09
</h2>
<h3 id="added-7" class="section-heading">
  <a href="#added-7" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Added
</h3>
<ul><li>JWT now supports RS256 algorithm in addition to HS256.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/84">#84</a></li><li>Support Kafka SSL and SASL/Plain authentication.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/79">#79</a></li><li>Add new endpoints at <code class="inline">/_rig/v1/</code> for subscribing to CloudEvents using SSE/WS, for creating subscriptions to specific event types, and for publishing CloudEvents.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/90">#90</a></li><li>Expose setting for proxy response timeout.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/91">#91</a></li><li>Subscriptions inference using JWT on SSE/WS connection and subscription creation.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/90">#90</a></li><li>Allow publishing events to Kafka and Kinesis via reverse-proxy HTTP calls. Optionally, a response can be waited for (using a correlation ID).</li><li>Simple event subscription examples for SSE and WS.</li><li>Kafka/Kinesis firehose - set topic/stream to consume and invoke HTTP request when event is consumed.</li></ul><h3 id="changed-5" class="section-heading">
  <a href="#changed-5" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Changed
</h3>
<ul><li>SSE heartbeats are now sent as comments rather than events, and events without data carry an empty data line to improve cross-browser compatibility.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/64">#64</a></li><li>General documentation and outdated info.</li></ul><h3 id="removed-3" class="section-heading">
  <a href="#removed-3" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Removed
</h3>
<ul><li>Previous SSE/WS communication via Phoenix channels.</li><li>Events that don't follow the CloudEvents spec are no longer supported (easy migration: put your event in a CloudEvent's <code class="inline">data</code> field).</li></ul><h3 id="fixed-7" class="section-heading">
  <a href="#fixed-7" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Fixed
</h3>
<ul><li>Flaky tests in <code class="inline">router_test.exs</code> -- switching from <code class="inline">Bypass</code> to <code class="inline">Fakeserver</code>.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/74">#74</a></li><li>Channels example. <a href="https://github.com/Accenture/reactive-interaction-gateway/issues/64">#64</a></li></ul><h2 id="2-0-0-beta-1-2018-06-21" class="section-heading">
  <a href="#2-0-0-beta-1-2018-06-21" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/1.1.0...2.0.0-beta.1" title="">2.0.0-beta.1</a> - 2018-06-21
</h2>
<h3 id="added-8" class="section-heading">
  <a href="#added-8" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Added
</h3>
<ul><li>Amazon Kinesis integration.
<a href="https://github.com/Accenture/reactive-interaction-gateway/issues/27">#27</a></li><li>Use lazy logger calls for debug logs.</li><li>Format (most files) using Elixir 1.6 formatter.</li><li>Add new endpoint <code class="inline">POST /messages</code> for sending messages (=&gt; Kafka is no longer a hard dependency).</li><li>Add a dedicated developer guide.</li><li>Release configuration in <code class="inline">rel/config.exs</code> and custom <code class="inline">vm.args</code> (based on what distillery is using).
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/29">#29</a></li><li>Production configuration for peerage to use DNS discovery.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/29">#29</a></li><li>Module for auto-discovery, using <a href="https://hexdocs.pm/peerage/1.0.3/Peerage.html"><code class="inline">Peerage</code></a> library.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/29">#29</a></li><li>Kubernetes deployment configuration file.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/29">#29</a></li><li>Smoke tests setup and test cases for API Proxy and Kafka + Phoenix messaging.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/42">#42</a></li><li>Kafka consumer ready check utility function.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/42">#42</a></li><li>List of all environment variables possible to set in <code class="inline">guides/operator-guide.md</code>.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/36">#36</a></li><li>Possibility to set logging level with env var <code class="inline">LOG_LEVEL</code>.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/49">#49</a></li><li>Variations of Dockerfiles - basic version and AWS version.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/44">#44</a></li><li>Helm deployment chart.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/59">#59</a></li><li>Proxy is now able to do request header transformations.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/76">#76</a></li></ul><h3 id="changed-6" class="section-heading">
  <a href="#changed-6" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Changed
</h3>
<ul><li>Endpoint for terminating a session no longer contains user id in path.</li><li>Convert to umbrella project layout.</li><li>Move documentation from <code class="inline">doc/</code> to <code class="inline">guides/</code> as the former is the default for ex_doc output.</li><li>Revised request logging (currently Kafka and console as backends).</li><li>Disable WebSocket timeout.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/58">#58</a></li><li>Dockerfile to use custom <code class="inline">vm.args</code> file &amp; removed <a href="https://hexdocs.pm/mix/Mix.Tasks.Release.Init.html"><code class="inline">mix release.init</code></a> step.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/29">#29</a></li></ul><h3 id="fixed-8" class="section-heading">
  <a href="#fixed-8" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Fixed
</h3>
<ul><li>Make presence channel respect <code class="inline">JWT_USER_FIELD</code> setting (currently hardcoded to &quot;username&quot;).</li><li>Set proper environment variable for Phoenix server <code class="inline">INBOUND_PORT</code>.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/38">#38</a></li><li>Set proper environment variable for Phoenix server <code class="inline">API_PORT</code>.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/38">#38</a></li><li>Channels example fixed to be compatible with version 2.0.0.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/40">#40</a></li><li>User defined query auth values are no longer overridden by <code class="inline">JWT</code> auth type.</li><li>Handle content-type correctly.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/61">#61</a></li><li>More strict regex match for routes in proxy.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/76">#76</a></li><li>Downcased response headers to avoid duplicates in proxy.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/76">#76</a></li></ul><h2 id="1-1-0-2018-01-11" class="section-heading">
  <a href="#1-1-0-2018-01-11" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  <a href="https://github.com/Accenture/reactive-interaction-gateway/compare/1.0.0...1.1.0" title="">1.1.0</a> - 2018-01-11
</h2>
<h3 id="added-9" class="section-heading">
  <a href="#added-9" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Added
</h3>
<ul><li>Basic Travis configuration.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/17">#17</a></li><li>Configuration ADR document.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/19">#19</a></li><li>Websocket and SSE channels example.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/22">#22</a></li><li>Maintain changelog file.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/25">#25</a></li></ul><h3 id="changed-7" class="section-heading">
  <a href="#changed-7" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Changed
</h3>
<ul><li>Increase default rate limits.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/16">#16</a></li><li>Make producing of Kafka messages in proxy optional (and turned off by default).
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/21">#21</a></li></ul><h3 id="fixed-9" class="section-heading">
  <a href="#fixed-9" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Fixed
</h3>
<ul><li>Fix Travis by disabling credo rule <code class="inline">Design.AliasUsage</code>.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/18">#18</a></li></ul><h2 id="1-0-0-2017-11-09" class="section-heading">
  <a href="#1-0-0-2017-11-09" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  1.0.0 - 2017-11-09
</h2>
<h3 id="added-10" class="section-heading">
  <a href="#added-10" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Added
</h3>
<ul><li>Add <a href="https://hexdocs.pm/ex_doc/0.23.0/Mix.Tasks.Docs.html"><code class="inline">mix docs</code></a> script to generate documentation of code base.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/6">#6</a></li><li>Add ethics documentation such as code of conduct and contribution guidelines.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/6">#6</a></li></ul><h3 id="changed-8" class="section-heading">
  <a href="#changed-8" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Changed
</h3>
<ul><li>Update configuration to be able to modify almost anything by environment variables on RIG start.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/5">#5</a></li><li>Rework Dockerfile to use multistage approach for building RIG Docker image.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/9">#9</a></li><li>Update entire code base to use <code class="inline">rig</code> keyword.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/13">#13</a></li></ul><h3 id="removed-4" class="section-heading">
  <a href="#removed-4" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Removed
</h3>
<ul><li>Disable Origin checking.
<a href="https://github.com/Accenture/reactive-interaction-gateway/pull/12">#12</a></li></ul>
      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.23.0) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>

  </body>
</html>
